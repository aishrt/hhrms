<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Recruiter</title>
</head>
<body>

<h2>Add Recruiter</h2>

<form id="recruiterForm">
    <label for="username">Username:</label><br>
    <input type="text" id="username" name="username" required><br><br>
  
    <label for="email">Email:</label><br>
    <input type="email" id="email" name="email" required><br><br>
  
    <label for="password">Password:</label><br>
    <input type="password" id="password" name="password" required><br><br>
  
    <button type="button" id="addRecruiterBtn">Add Recruiter</button>
</form>

<script>
document.getElementById('addRecruiterBtn').addEventListener('click', function() {
    const username = document.getElementById('username').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    const newRecruiter = {
        username,
        email,
        password
    };

    // Convert JavaScript object to JSON string
    const jsonData = JSON.stringify(newRecruiter);

    // Create a new XMLHttpRequest object
    const xhr = new XMLHttpRequest();

    // Define the request parameters
    xhr.open("POST", "/register-recruiter", true);
    xhr.setRequestHeader("Content-Type", "application/json");

    // Send the request with JSON data
    xhr.send(jsonData);

    // Handle the response from the server
    xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
            if (xhr.status === 200) {
                // Success: Handle response from the server
                alert("Recruiter added successfully!");
                // You can handle any success message or action here
            } else {
                // Error: Handle error response from the server
                alert("Error occurred while adding recruiter");
                console.error("Error occurred while adding recruiter:", xhr.responseText);
                // You can handle error message or action here
            }
        }
    };

    // Reset the form fields
    document.getElementById('recruiterForm').reset();
});
</script>

</body>
</html>
